---
  title: NPQ - Removing the need for TRNs 
  date: 2023-01-16
  related:
    sections:
      - title: Related content
        items:
          - text: Replica journey in prototype (password, trn)
            href: https://find-a-lost-trn-prototype.herokuapp.com/user-research/scenario-1/
          - text: Lucid board showing flow
            href: https://lucid.app/lucidspark/b3b5b801-9a3e-4f60-915d-6e0217dd2d65/edit?view_items=xJN.t8Pac_f6&invitationId=inv_9bfebe40-c041-4aba-b1e2-b6a402ab51d8
---


To apply for an NPQ users must have a TRN - because currently the database of qualified teachers (DQT) is the only place that stores NPQ certificates. This may change in future to allow non-trn users access to DQT certificates.


The NPQ service tells the user how to get one if they do not already have one. This means that the Teacher Regulation Agency (TRA) unnecessarily issues some TRNs. 

Based on this limitation, the Get an Identity (GAI) pilot re-directs users without a TRN (those GAI could not find a match for) back to the non-identity version of Register for an NPQ.

This iteration of the service is to let users without TRNs apply for an NPQ without forcing them to get one or redirecting them back to the non-identity, NPQ journey. 


## How will we know if a user has a TRN?

To identify if a user has a TRN, we query the DQT to find their record based on the information they entered into Get an Identity (GAI). We try to match the user against these 6 DQT data points: 


- Email 
- Name
- Date of birth
- National Insurance 
- TRN
- QTS Qualified Teacher Status (QTS) and ITT provider

These data points let us check if a user has a DQT record and also find out if the associated TRN is attached to another existing teaching identity. This reduces the chances of us creating duplicate records.


Based on the matching of these data points, the following scenarios can occur:


### Scenario 1: A user matches any three data points on a DQT record

We find the user on the DQT and the TRN is located. They continue to apply for an NPQ. 

The following data is passed to NPQ 

- a TRN (found on the DQT) 
- D.O.B (user has added in GAI) 
- GAI name (user has added in GAI) 
- email address (user has added in GAI) 
- and user id (generated by GAI)

GAI also returns a TRN lookup status <b>'found'</b>, which informs NPQ that this is a TRN user.


### Scenario 2: The user does not have a DQT record (they do not claim to have a TRN or QTS and other details do not match).

This scenario occurs at the end of the GAI journey. For example, they entered all 6 data points and only 2 or fewer data points were matched (and they told us that they do not have a TRN or QTS). This means we are confident they are not on the DQT.

They complete the NPQ application without a TRN.

Data passed to NPQ:

- D.O.B (user has added in GAI) 
- GAI name (user has added in GAI)
- email address (user has added in GAI) 
- and user id (generated by GAI)

GAI also returns a TRN lookup status <b>'none'</b>, which informs NPQ that this is a Non-TRN user.


### Scenario 3: They do not match a DQT record, but we need to manually check as we suspect they could have a record.

This scenario occurs when 2 or fewer data points are matched, and the user has implied that they have a TRN or QTS. 

They either misentered the TRN or have left it blank after telling us they have one.

They told us that they have QTS but did not enter a recognised institution.

At the end of the GAI questions we tell them that although we could not find their record, they can continue to apply for an NPQ.

Data passed to NPQ 

- D.O.B (user has added in GAI) 
- GAI name (user has added in GAI)
- email address (user has added in GAI) 
- and user id (generated by GAI)

GAI also returns a TRN lookup status <b>'pending'</b>, which informs NPQ that a manual check is needed before they process the user’s application.

At the same time we raise a ticket for a support agent to manually find their DQT record. 

### Support ticket scenarios

Scenario 3a, If the TRA support agent finds the user’s DQT record.

GAI returns a TRN lookup status  <b>'found'</b>, the application can continue and a TRN is returned to NPQ.


Scenario 3b: If we still cannot find a record.

GAI returns a TRN lookup status  <b>'failed'</b>, they are not on the DQT and no TRN is returned.

# Design changes 
Following the last round of user research, we also made some changes to the design alongside the fundamental change to let people without TRNs use the service. 

### Email 

Users have to authenticate their email address when using GAI by using a code we send to them. We’ve also seen many people using their work or institution email address.

This could cause problems should they lose access to those addresses, so we’ve added copy to the email address field to encourage them to use personal email addresses, which they are likelier to have for longer.

![Inclusion of use of non-school emails](1-email.png "Inclusion of use of non-school emails")


### Name

We’ve significantly reduced the descriptive copy on the page asking for a user's name. We noticed research participants skipping over it during testing, so we’ve made it more clear.


![Reduction of copy to simplify name page](2-name.png "Reduction of copy to simplify name page")


### TRN

For this iteration, we needed to reframe the TRN question from asking what their TRN is to asking if they have one. This approach is the same as we already take with National Insurance number, so we’ve copied that 2-page style.

The first page asks if they have one and gives the user information about who usually has a TRN. If they tell us that they have a TRN, we ask them for it on the second page (where the format of a TRN is listed) - also letting them continue without entering the number.

![Page 1 - describes who should have a TRN](3-trn.png "Page 1 - describes who should have a TRN")

![Page 2- describes what constitutes a TRN](4-trn.png "Page 2- describes what constitutes a TRN")
